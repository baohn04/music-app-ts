extends ../../layouts/default.pug
include ../../mixins/alert.pug

block main
  if(role.permissions.includes("accounts_create"))
    +alert-success(5000)
    +alert-error(5000)

    .content-wrapper
      .row
        .col-12.grid-margin
          .card
            .card-body
              h4.card-title #{pageTitle}

              if(roles)
                form.form-sample(
                  action=`${prefixAdmin}/accounts/create`
                  method="POST"
                  enctype="multipart/form-data"
                )
                  p.card-description
                    | Nhập thông tin tài khoản

                  .row
                    .col-md-6
                      .form-group.row
                        label.col-sm-3.col-form-label(for="fullName") Họ tên *
                        .col-sm-9
                          input.form-control(
                            type="text"
                            id="fullName"
                            name="fullName"
                            required
                          )
                    .col-md-6
                      .form-group.row
                        label.col-sm-3.col-form-label(for="email") Email *
                        .col-sm-9
                          input.form-control(
                            type="email"
                            id="email"
                            name="email"
                            required
                          )
                  
                  .row
                    .col-md-6
                      .form-group.row
                        label.col-sm-3.col-form-label(for="password") Mật khẩu *
                        .col-sm-9
                          input.form-control(
                            type="password"
                            id="password"
                            name="password"
                            required
                          )
                    .col-md-6
                      .form-group.row
                        label.col-sm-3.col-form-label(for="phone") Số điện thoại
                        .col-sm-9
                          input.form-control(
                            type="text"
                            id="phone"
                            name="phone"
                          )
                  .row
                    .col-md-6
                      .form-group.row(upload-image)
                        label.col-sm-3.col-form-label(for="avatar") Avatar
                        .col-sm-9
                          input.form-control-file(
                            type="file"
                            id="avatar"
                            name="avatar"
                            accept="image/*"
                            upload-image-input
                          )
                          img.image-preview(
                            src=""
                            upload-image-preview
                            style="max-width: 200px; margin-top: 10px;"
                          )
                    .col-md-6
                      .form-group.row
                        label.col-sm-3.col-form-label(for="role_id") Phân quyền
                        .col-sm-9
                          select.form-control(
                            name="role_id"
                            id="role_id"
                          )
                            option(disabled selected) -- Chọn nhóm quyền -- 
                            each item in roles
                              option(value=item.id) #{item.title}
                  
                  .row
                    .col-md-6
                      .form-group.row
                        label.col-sm-3.col-form-label Trạng thái
                        .col-sm-4
                          .form-check
                            label.form-check-label(for="statusActive")
                              input#statusActive.form-check-input(
                                type='radio'
                                name='status'
                                value='active'
                                checked
                              )
                              | Hoạt động
                        .col-sm-5
                          .form-check
                            label.form-check-label(for="statusInActive")
                              input#statusInActive.form-check-input(
                                type='radio'
                                name='status'
                                value='inactive'
                              )
                              | Dừng hoạt động
                  
                  .row
                    .col-md-12
                      button(
                        type="submit"
                        class="btn btn-primary me-2"
                      ) Tạo mới
                      button(
                        type="button"
                        class="btn btn-light"
                        onclick="window.history.back()"
                      ) Trở về
              else
                p Vui lòng tạo nhóm quyền trước khi thêm mới tài khoản.
                br
                a(href=`${prefixAdmin}/roles/create` class="btn btn-primary") Tạo nhóm quyền

    script(src="/public/admin/css/style.css")

  else 
    h1 Bạn không có quyền truy cập vào trang này